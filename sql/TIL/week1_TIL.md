# SQL 1-1 Big Query 기초 지식

## 데이터 저장 형태

- 데이터는 보통 데이터베이스 테이블 등에 저장
  - Database : 데이터의 저장소
  - Table : 데이터가 저장된 공간
  - 저장된 데이터를 제품(앱, 웹)에서 사용

## 데이터가 저장되는 장소

- MySQL, Oracle, PostgreSQL 같은 데이터베이스에 주로 저장 (AWS Aurora등)

## MySQL, Oracle, PostgreSQL 같은 데이터베이스 특징 => OLTP

- OLTP
- 거래를 하기 위해 사용되는 데이터베이스

  - 보류, 중간 상태가 없음 - 주문을 완료하거나 안하거나 : 데이터가 무결하다
  - 데이터의 추가(INSERT), 데이터의 변경(UPDATE)이 많이 발생

- SQL을 사용해 데이터를 추출할 수 있으나, 분석을 위해 만든 데이터베이스가 아니라 쿼리속도가 느릴 수 있다.

## SQL(Structured Query Language)

SQL : 데이터베이스에서 데이터를 가지고 올 때 사용하는 언어

- 쿼리문, 쿼리구문, 쿼리를 짠다, SQL 쿼리 등으로 표현

## 테이블에 저장된 데이터의 형태

- **행** : 새로운 row는 가로 한 줄(=record) (한 개의 데이터)<br>
  (주의) Raw 데이터 : 원본 데이터
- **열** : column (속성))

## OLAP와 데이터 웨어하우스(DW)의 등장

OLTP로 데이터분석을 하다가 속도, 기능 부족의 이슈로 OLAP가 등장함
<br>
<br>
**OLAP** : Online Analytical Processing

- 분석을 위한 기능 제공

**데이터 웨어하우스**

- 데이터를 한 곳에 모아서 저장
- 여러 곳에 저장된 데이터 예시
  - Database, 웹(크롤링), 파일, API의 결과 등

## BigQuery

Google Cloud의 OLAP + Data Warehouse
<br>
<br>
**"Google Cloud의 데이터 웨어하우스"**

### Big Query 장점

1. 난이도

- SQL을 사용해 쉽게 데이터 추출 가능

2. 속도

- OLAP 도구이므로 속도가 빠름(단, 그만큼 돈을 지불)

3. Firebase, Google Analytics4의 데이터를 쉽게 추출할 수 있음

- 사용기기, 위치(시 단위까지 표현), OS 버전, 이벤트 행동 획득 가능(별도의 로깅 필요)

4. 데이터 웨어하우스를 사용하기 위해 서버(컴퓨터)를 띄울 필요 없음

- 구글에서 인프라를 관리함

### BigQuery 사용하는 이유

- 회사에서 앱이나 웹이서 Firebase, Google Analytics4를 활용할 경우
- 운영을 적은 비용(인력 등)으로 진행하기 위해
- 사용하는 회사 : 쏘카 등

# SQL 1-2 BigQuery 환경 설정

## BigQuery의 환경 구성 요소

1. 프로젝트

- **하나의 큰 건물;** 건물 안에는 여러 목적을 가진 창고가 존재
- 하나의 프로젝트에 여러 데이터셋이 존재할 수 있음

2. 데이터셋(Dataset) (= 데이터 웨어하우스))

- **프로젝트에 있는 창고.** 각 창고 공간에 데이터를 저장
- 판매 데이터, 고객 데이터 등 별도의 데이터를 저장할 수 있음
- 하나의 데이터셋에 다양한 테이블이 존재할 수 있음

3. 테이블(Table)

- **창고에 있는 선반**
- 테이블 안엔 상품의 세부 정보가 저장
- 테이블 안엔 행과 열로 이루어진 데이터들이 저장

## Google Cloud 설정 - 생성된 테이블 확인

- battle
- pokemon
- trainer
- trainer_pokemon
  <br>
  => 4개 생성 후 실습!

# SQL 2-1 데이터 활용 Overview

## 이번 파트에서 다룰 내용

- 데이터 활용 과정 Overview
- 포켓몬으로 이해하는 SQL
- 데이터 탐색 : 조건과 추출하기
  - SQL의 기본 문법
  - SELECT
  - FROM
  - WHERE
- 데이터 탐색 : 요약하기

## 데이터 활용 과정

![sql이 쓰이는 과정](../sql/img/week1/week1_img1.png)

- 위 사진의 주황색 박스가 바로 SQL이 사용되는 과정이다.

# SQL 2-2 저장된 데이터 확인하기(데이터베이스, 데이터 웨어하우스 , ERD)

## SQL 쿼리를 작성하기 전에

- 데이터가 어떻게 저장되어 있는가?에 대해 생각해보기
- 어떤 데이터가 저장되어 있는가?
- 컬럼의 의미는 무엇인가?

데이터를 제대로 이해해야 올바른 데이터를 추출할 수 있음
<br>
(구체적인 정의를 항상 확인하면서 쿼리를 작성해야함)

## 데이터가 저장되는 형태를 알려면?

- ERD(Entity Relationship Diagram) : 데이터베이스 구조를 한눈에 알아보기 위해 사용
- 회사마다 있을 수도 있고, 없을 수도 있음

## 회사에 존재할 수 있는 데이터(예시)

1. 서비스에 사용될 데이터베이스

- 유저 테이블
- 배송 테이블
- 물건 테이블

2. 앱/웹 로그 데이터

- 유저가 앱/웹에 들어와서 회원 가입 - 페이지 확인, 컨텐츠 확인 등등의 데이터
- "과정"을 알 수 있는 데이터

3. 공공 데이터, 서드파티 데이터

- 날씨
- 페이스북 광고 데이터

## 포켓몬 세상과 이커머스 산업

- 포켓몬 세상엔 어떤 데이터가 존재할까요?
  - 포켓몬 : 상품
  - 트레이너 : 유저
  - 트레이너가 잡은 포켓몬 : 주문
  - 트레이너가 도전한 유저 배틀
  - 트레이너가 도전한 체육관 배틀
  - NPC
  - 상점
  - 상점 별로 판매하는 제품

# 인증

![수강인증](../sql/img/week1/week1_img2.png)
